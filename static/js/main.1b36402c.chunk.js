(this.webpackJsonpyourmusic=this.webpackJsonpyourmusic||[]).push([[0],{91:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(25),r=n.n(s),o=(n(82),n(76)),i=n(10),j=n(56),l=n(57),d=n(31),b=n(38),h=n(63),u=n(20),O=n(1),x=function(){return Object(O.jsxs)(b.a,{bg:"dark",variant:"dark",children:[Object(O.jsxs)(b.a.Brand,{children:[Object(O.jsx)(u.a,{}),"YourMusic"]}),Object(O.jsxs)(h.a,{className:"mr-auto",children:[Object(O.jsxs)(h.a.Link,{href:"#/",children:[Object(O.jsx)(u.c,{})," In\xedcio"]}),Object(O.jsxs)(h.a.Link,{href:"#/musicas",children:[Object(O.jsx)(u.e,{})," M\xfasicas"]})]})]})},m=function(){return Object(O.jsxs)("div",{children:[Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(b.a,{bg:"secondary",fixed:"bottom",children:Object(O.jsxs)(b.a.Brand,{className:"text-light",children:[Object(O.jsx)(u.a,{})," YourMusic \xa9 - Todos os direitos reservados!"]})})]})},p=function(){return Object(O.jsxs)(j.a,{fluid:!0,className:"p-8",children:[Object(O.jsx)(x,{}),Object(O.jsx)(l.a,{children:Object(O.jsxs)(d.a,{xs:12,lg:6,children:[Object(O.jsx)("h1",{children:"Boas vindas ao YourMusic!"}),Object(O.jsx)("p",{children:"Voc\xea est\xe1 na p\xe1gina inicial do nosso site. "}),Object(O.jsx)("p",{children:" Comece adicionando suas m\xfasicas favoritas pelo menu acima =)"})]})}),Object(O.jsx)(m,{})]})},f=n(32),g=n.n(f),v=n(6),y=n(2),C=n(62),k=n(7),E=n(68),S=n(75),I=n(39),w=n(9),L=n(64),M=n(40),B="https://avaliacao-backend.herokuapp.com",T=function(){var e={nome:"",banda:"",album:"",genero:"",lancamento:""},t=Object(a.useState)(e),n=Object(k.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)([]),o=Object(k.a)(r,2),i=o[0],b=o[1],h=Object(a.useState)(!1),p=Object(k.a)(h,2),f=p[0],T=p[1],F=Object(a.useState)({}),N=Object(k.a)(F,2),A=N[0],G=N[1],D=Object(a.useState)(""),H=Object(k.a)(D,2),_=H[0],z=H[1],J=Object(a.useState)(!1),P=Object(k.a)(J,2),Y=P[0],Q=P[1],R=Object(a.useState)(!1),U=Object(k.a)(R,2),V=U[0],q=U[1],K=c.nome,W=c.banda,X=c.album,Z=c.genero,$=c.lancamento;function ee(){return te.apply(this,arguments)}function te(){return(te=Object(C.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),t="".concat(B,"/musicas"),e.next=4,fetch(t).then((function(e){return e.json()})).then((function(e){b(e)})).catch((function(e){console.error("Erro ao obter as m\xfasicas: "+e.message)}));case 4:T(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)((function(){ee(),document.title="Cadastro das M\xfasicas"}),[]);var ne=function(){var e={};return K&&""!==K?K.length<2?e.nome="O nome deve conter, no m\xednimo, duas letras.":W.length<2?e.banda="A banda deve conter, no m\xednimo, duas letras.":X.length<2?e.album="O \xe1lbum deve conter, no m\xednimo, duas letras.":Z.length<2?e.genero="O g\xeanero deve conter, no m\xednimo, duas letras.":$.length<8&&(e.lancamento="Informe uma data v\xe1lida."):e.nome="O nome n\xe3o pode ser vazio!",e};function ae(){return(ae=Object(C.a)(g.a.mark((function t(n){var a,r,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a=ne(),!(Object.keys(a).length>0)){t.next=6;break}G(a),t.next=12;break;case 6:return Q(!0),r=c.hasOwnProperty("_id")?"PUT":"POST",o="".concat(B,"/musicas"),t.next=11,fetch(o,{method:r,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){return e.json()})).then((function(t){t._id||t.message?z("M\xfasica salva com sucesso"):z(""),s(e),ee()})).catch((function(e){console.error("Erro ao salvar a m\xfasica ".concat(e.message))}));case 11:Q(!1);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ce(){return(ce=Object(C.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(B,"/musicas/").concat(c._id),e.next=3,fetch(t,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.message?z(e.message):z(""),ee()})).catch((function(e){console.error("Erro ao excluir a m\xfasica: ".concat(e.message))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=function(e){s(Object(y.a)(Object(y.a)({},c),{},Object(v.a)({},e.target.name,e.target.value))),G({})};return Object(O.jsxs)(j.a,{fluid:!0,className:"p-0",children:[Object(O.jsx)(x,{}),Object(O.jsxs)(l.a,{children:[Object(O.jsxs)(d.a,{xs:12,lg:6,children:[Object(O.jsxs)("h4",{children:[Object(O.jsx)(u.e,{})," Cadastro das M\xfasicas"]}),Object(O.jsxs)(w.a,{method:"post",children:[Object(O.jsxs)(w.a.Group,{controlId:"nome",children:[Object(O.jsx)(w.a.Label,{children:"M\xfasica"}),Object(O.jsx)(w.a.Control,{name:"nome",placeholder:"Ex: DiE4u",value:K,onChange:se,isInvalid:!!A.nome}),Object(O.jsx)(w.a.Control.Feedback,{type:"invalid",children:A.nome})]}),Object(O.jsxs)(w.a.Group,{controlId:"Banda",children:[Object(O.jsx)(w.a.Label,{children:"Banda"}),Object(O.jsx)(w.a.Control,{name:"banda",placeholder:"Ex: Bring Me The Horizon",value:W,onChange:se,isInvalid:!!A.banda}),Object(O.jsx)(w.a.Control.Feedback,{type:"invalid",children:A.banda})]}),Object(O.jsxs)(w.a.Group,{controlId:"album",children:[Object(O.jsx)(w.a.Label,{children:"\xc1lbum"}),Object(O.jsx)(w.a.Control,{name:"album",placeholder:"Ex: That's The Spirit",value:X,onChange:se,isInvalid:!!A.album}),Object(O.jsx)(w.a.Control.Feedback,{type:"invalid",children:A.album})]}),Object(O.jsxs)(w.a.Group,{controlId:"genero",children:[Object(O.jsx)(w.a.Label,{children:"G\xeanero"}),Object(O.jsx)(w.a.Control,{name:"genero",placeholder:"Ex: Rock",value:Z,onChange:se,isInvalid:!!A.genero}),Object(O.jsx)(w.a.Control.Feedback,{type:"invalid",children:A.genero})]}),Object(O.jsxs)(w.a.Group,{controlId:"lancamento",children:[Object(O.jsx)(w.a.Label,{children:"Lan\xe7amento"}),Object(O.jsx)(w.a.Control,{name:"lancamento",type:"date",value:$,onChange:se,isInvalid:!!A.lancamento}),Object(O.jsx)(w.a.Control.Feedback,{type:"invalid",children:A.lancamento})]}),Object(O.jsx)(I.a,{variant:"primary",type:"submit",onClick:function(e){return function(e){return ae.apply(this,arguments)}(e)},title:"Salvar o registro",children:Y?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(E.a,{animation:"border",size:"sm"})," Aguarde... "]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.f,{}),"Salvar"]})})]})]}),Object(O.jsxs)(d.a,{xs:12,lg:6,children:[Object(O.jsxs)("h4",{children:[Object(O.jsx)(u.g,{})," Listagem das M\xfasicas"]}),f&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(E.a,{animation:"border",variant:"primary"}),Object(O.jsx)("p",{children:"Carregando..."})]}),Object(O.jsxs)(S.a,{striped:!0,bordered:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"bg-danger text-dark",children:[Object(O.jsx)("th",{children:"Nome"}),Object(O.jsx)("th",{children:"Banda"}),Object(O.jsx)("th",{children:"Album"}),Object(O.jsx)("th",{children:"G\xeanero"}),Object(O.jsx)("th",{children:"Lan\xe7amento"}),Object(O.jsx)("th",{children:"Op\xe7\xf5es"})]})}),Object(O.jsxs)("tbody",{children:[i.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.nome}),Object(O.jsx)("td",{children:e.banda}),Object(O.jsx)("td",{children:e.album}),Object(O.jsx)("td",{children:e.genero}),Object(O.jsx)("td",{children:new Date(e.lancamento).toLocaleDateString()}),Object(O.jsxs)("td",{children:[Object(O.jsx)(I.a,{variant:"outline-secondary",title:"Editar a m\xfasica",onClick:function(){return s(e)},children:Object(O.jsx)(u.d,{})}),"\xa0",Object(O.jsx)(I.a,{variant:"outline-danger",title:"Apagar a m\xfasica",onClick:function(){q(!0),s(e)},children:Object(O.jsx)(u.b,{})})]})]},e._id)})),Object(O.jsxs)("tr",{className:"bg-danger text-dark",children:[Object(O.jsx)("td",{colSpan:"5",children:"Quantidade de M\xfasicas:"}),Object(O.jsx)("td",{children:i.length})]})]})]})]})]}),Object(O.jsxs)(L.a,{onClose:function(){return z("")},show:_.length>0,animation:!1,delay:4e3,autohide:!0,className:"bg-success",style:{position:"absolute",top:10,right:10},children:[Object(O.jsx)(L.a.Header,{closeButton:!1,children:"Aviso"}),Object(O.jsx)(L.a.Body,{children:_})]}),Object(O.jsxs)(M.a,{animation:!1,show:V,onHide:function(){return q(!1)},children:[Object(O.jsx)(M.a.Header,{children:Object(O.jsx)(M.a.Title,{children:"Confirma\xe7\xe3o da Exclus\xe3o"})}),Object(O.jsx)(M.a.Body,{children:"Confirma a exclus\xe3o da m\xfasica?"}),Object(O.jsxs)(M.a.Footer,{children:[Object(O.jsx)(I.a,{variant:"danger",onClick:function(){return q(!V)},children:"\u274cCancelar"}),Object(O.jsx)(I.a,{variant:"success",onClick:function(){!function(){ce.apply(this,arguments)}(),q(!V)},children:"\u2705Confirmar"})]})]}),Object(O.jsx)(m,{})]})};function F(){return Object(O.jsx)(o.a,{children:Object(O.jsxs)(i.c,{children:[Object(O.jsx)(i.a,{exact:!0,path:"/",component:p}),Object(O.jsx)(i.a,{exact:!0,path:"/musicas",component:T})]})})}var N=function(){return Object(O.jsx)(F,{})};r.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(N,{})}),document.getElementById("root"))}},[[91,1,2]]]);
//# sourceMappingURL=main.1b36402c.chunk.js.map